<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Geospatial Analysis | Module 5</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Geospatial Analysis" /> <meta property="og:locale" content="en_US" /> <meta property="og:site_name" content="Module 5" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Geospatial Analysis" /> <script type="application/ld+json"> {"@type":"WebPage","url":"/docs/Application_Part3.html","headline":"Geospatial Analysis","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> Module 5 </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Spatial Analysis category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/" class="nav-list-link">Spatial Analysis</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/Content_Part0.html" class="nav-list-link">Workflows</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Methods category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/Content_Part1.html" class="nav-list-link">Methods</a><ul class="nav-list"></ul></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in Lab Application category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/Application.html" class="nav-list-link">Lab Application</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/Application_Part1.html" class="nav-list-link">Framing the Problem</a></li><li class="nav-list-item "><a href="/docs/Application_Part2.html" class="nav-list-link">Acquire Data</a></li><li class="nav-list-item active"><a href="/docs/Application_Part3.html" class="nav-list-link active">Geospatial Analysis</a></li><li class="nav-list-item "><a href="/docs/Application_Part4.html" class="nav-list-link">Last Minute Changes</a></li><li class="nav-list-item "><a href="/docs/Application_Part5.html" class="nav-list-link">Visualizatons & Reports</a></li></ul></li><li class="nav-list-item"><a href="/docs/Assessment.html" class="nav-list-link">Module Quiz</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Module 5" aria-label="Search Module 5" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://geos270.github.io/Syllabus/#course-schedule" class="site-button" > Course Schedule </a> </li> <li class="aux-nav-list-item"> <a href="https://github.com/GEOS270/Module5" class="site-button" > View on github </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/Application.html">Lab Application</a></li> <li class="breadcrumb-nav-list-item"><span>Geospatial Analysis</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="geospatial-analysis"> <a href="#geospatial-analysis" class="anchor-heading" aria-labelledby="geospatial-analysis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Geospatial Analysis </h1> <details open=""> <summary class="text-delta"> Table of contents </summary> <ol id="markdown-toc"> <li><a href="#automating-with-model-builder" id="markdown-toc-automating-with-model-builder">Automating with Model Builder</a></li> <li><a href="#identify-the-inundation-zone" id="markdown-toc-identify-the-inundation-zone">Identify the Inundation Zone</a> <ol> <li><a href="#using-the-model-yourself" id="markdown-toc-using-the-model-yourself">Using the Model Yourself</a></li> </ol> </li> <li><a href="#create-your-own-model" id="markdown-toc-create-your-own-model">Create Your Own Model</a> <ol> <li><a href="#clip-the-roads-layer" id="markdown-toc-clip-the-roads-layer">Clip the Roads Layer</a></li> <li><a href="#select-properties-by-location" id="markdown-toc-select-properties-by-location">Select Properties by Location</a></li> <li><a href="#select-properties-by-zonename-and-intersect-population-data" id="markdown-toc-select-properties-by-zonename-and-intersect-population-data">Select Properties by ZoneName and Intersect Population Data</a></li> <li><a href="#select-shelters-by-location" id="markdown-toc-select-shelters-by-location">Select Shelters by Location</a></li> </ol> </li> </ol> </details> <h1 id="automating-with-model-builder"> <a href="#automating-with-model-builder" class="anchor-heading" aria-labelledby="automating-with-model-builder"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Automating with Model Builder </h1> <p>We are going to use a tool called Model Builder to organize and save all of our analysis steps in one place. When we use model builder, if any of our inputs or parameters change, a model can be easily adjusted and rerun at any time. It also allows us to visualize our analysis process. This is useful both for editing our own work and sharing it with others.</p> <ul> <li>For a more detailed explanation of Model Builder, check out <a href="https://pro.arcgis.com/en/pro-app/latest/help/analysis/geoprocessing/modelbuilder/modelbuilder-quick-tour.htm">this link</a>.</li> </ul> <h1 id="identify-the-inundation-zone"> <a href="#identify-the-inundation-zone" class="anchor-heading" aria-labelledby="identify-the-inundation-zone"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Identify the Inundation Zone </h1> <p>Our criteria for land areas at risk for flooding are:</p> <ul> <li>Land at or below 10 m elevation <strong>and</strong> within 1km of the coastline.</li> </ul> <p>I have created a model to do this part for you. In order to identify the land areas in Port Alberni at risk for inundation, the model is set up to do four tasks:</p> <p><strong class="label label-red">1</strong> Reclassify the PA_DEM to identify all the areas under 10m elevation. See this link for info on the <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/spatial-analyst/reclassify.htm">Reclassify tool</a>.</p> <p><strong class="label label-red">2</strong> Convert the reclassified DEM to a polygon. See this link for info on the <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/conversion/raster-to-polygon.htm">Raster to Polygon Tool</a>.</p> <p><strong class="label label-red">3</strong> Buffer the waterbodies by 1km. See this link for info on the <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/buffer.htm">buffer tool</a>.</p> <p><strong class="label label-red">4</strong> Clip the coastline buffer with the inundation zone. See this link for an explanation of the <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/clip.htm">Clip tool</a>.</p> <p>Watch the video below to see how I set the model up with an explanation of what it is doing.</p> <iframe width="560" height="315" src="https://www.youtube.com/embed/evyXxnqUKbg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <h2 id="using-the-model-yourself"> <a href="#using-the-model-yourself" class="anchor-heading" aria-labelledby="using-the-model-yourself"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using the Model Yourself </h2> <p><strong class="label label-blue">1</strong> Right click the InundationZone model and click “Edit”. The model will open in a new window, next to your map. The elevation threshold in the relassify is set to 5m, but we want to set it to 10 for our analysis.</p> <p><strong class="label label-blue">2</strong> Change the break values in the Reclassify to from 5 to 10 and run the model.</p> <ul> <li>Right click on <strong>Reclassify</strong> in the InundationZone and select <strong>Open</strong></li> <li>Change the break value to 10</li> </ul> <h1 id="create-your-own-model"> <a href="#create-your-own-model" class="anchor-heading" aria-labelledby="create-your-own-model"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create Your Own Model </h1> <p>We have four questions we want to address:</p> <p><strong class="label label-red">1</strong> Which roads are at risk of flooding or damage?</p> <p><strong class="label label-red">2</strong> Which properties in the city are at risk?</p> <p><strong class="label label-red">3</strong> How many people within Port Alberni and the surrounding area are potentially living in areas at risk?</p> <p><strong class="label label-red">4</strong> Are the Tsunami Shelters sufficient?</p> <h2 id="clip-the-roads-layer"> <a href="#clip-the-roads-layer" class="anchor-heading" aria-labelledby="clip-the-roads-layer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Clip the Roads Layer </h2> <p>To answer question <strong class="label label-red">1</strong> all we need to do is clip the roads by the inundation zone. Follow the video below to create a new model and clip the roads layer.</p> <p><strong class="label label-blue">A</strong> Use the PA_Roads as the <strong>Input Feature</strong></p> <p><strong class="label label-blue">B</strong> Use the InundationZone as the <strong>Clip Feature</strong></p> <p><strong class="label label-blue">C</strong> Name the output PA_Roads_Flood.</p> <p><strong class="label label-blue">D</strong> Once you have the output, Open the attribute, of PA_Roads_Flood, click right Click Shape_Length » Statistics. <strong>Take note</strong> of the total length of roads vulnerable to flooding (be mindful of the units). This is the answer to a quiz question number <a href="Assessment.md#Quiz-Questions"><strong>6</strong></a>.</p> <iframe width="560" height="315" src="https://www.youtube.com/embed/F_AslIjacNI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <h2 id="select-properties-by-location"> <a href="#select-properties-by-location" class="anchor-heading" aria-labelledby="select-properties-by-location"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Select Properties by Location </h2> <p>To answer <strong class="label label-red">2</strong> we can use select by location. See the video below for an explanation of the select by location and instructions on how to apply it in your model.</p> <p><strong class="label label-blue">A</strong> Use the Properties as the <strong>Input Feature</strong></p> <p><strong class="label label-blue">B</strong> Use the InundationZone as the <strong>Selecting Feature</strong></p> <p><strong class="label label-blue">C</strong> Selections are temporary, you have to use the copy features tool to make the selection permanent. Name the output of the copy <strong>Properties_at_Risk</strong>. <em>Hint</em> If you check label bars, and sort by the y-axis, it can make your chart easier to interpret.</p> <ul> <li><strong>Take note</strong> of how many residential (Sum of Residential and Multi-Family Residential) properties are at risk of flooding, this is the answer to a quiz question <a href="Assessment.md#Quiz-Questions"><strong>7</strong></a>.</li> </ul> <p><img src="content/images/bar_format.png" width="300" /></p> <iframe width="560" height="315" src="https://www.youtube.com/embed/vqHmErK5J-g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <h2 id="select-properties-by-zonename-and-intersect-population-data"> <a href="#select-properties-by-zonename-and-intersect-population-data" class="anchor-heading" aria-labelledby="select-properties-by-zonename-and-intersect-population-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Select Properties by ZoneName and Intersect Population Data </h2> <p>To answer <strong class="label label-red">3</strong>, the process is a bit more complicated. If we simply clip the DAs by the Inundation Zone, we’ll end up with a significant overestimate. Its best to overestimate when doing hazards analysis if you can’t avoid it, but we need our results to be realistic. We will use three steps to estimate the <em>maximum</em> number of people who may be displaced.</p> <p><strong class="label label-blue">A</strong> Select just residential and multi-family residential properties.</p> <ul> <li>Select by Attribute where: <ul> <li>“ZoneCode <em>is equal to</em> Multi-Family Residential <strong>OR</strong> ZoneCode <em>is equal to</em> Multi-Family Residential”</li> </ul> </li> <li>Copy the features to save the selection as <strong>Residential_at_Risk</strong>. <em>Hint</em> The number of rows in Residential_at_Risk should match your calculations of the number of residential properties you got from the bar chart you created in the last step.</li> </ul> <p><strong class="label label-blue">B</strong> Intersect Population_Data with the Selection.</p> <ul> <li>Input order with the intersect does not matter, because its the combined overlap of both layers.</li> </ul> <p><strong class="label label-blue">C</strong> Dissolve the Intersection.</p> <ul> <li>Set <strong>Dissolve Field</strong> to <strong>spatial_id</strong></li> <li>Choose the <strong>Statistics Fields</strong>, this will give us statistics for the aggregation. <ul> <li><strong>Population</strong> - <strong>First</strong></li> <li><strong>Households</strong> - <strong>First</strong></li> <li><strong>ZoneName</strong> - <strong>Count</strong></li> </ul> </li> <li>Set the output name to <strong>Population_at_Risk</strong></li> </ul> <p><strong class="label label-blue">D</strong> Add and Calculate a Field to approximate the number of people in the inundation zone. The way we are going to do this is calculate the average # of people per household in each DA, times the number of properties at risk (assumed one household = one property).</p> <ul> <li>Add a field <strong>Pop_at_Risk</strong></li> <li>Calculate the field <ul> <li>!COUNT_ZoneName!*!FIRST_Population!/!FIRST_Households!</li> <li>The above equation takes then number of properties (!COUNT_ZoneName!)</li> <li>Multiples it by the average household size (!FIRST_Population!/!FIRST_Households!) <ul> <li><strong>This is just a rough estimate</strong>, <em>obviously its flawed</em>, and you’d want a more accurate approach if you were doing this in real life, but this is just for illustrative purposes, so its OK.</li> </ul> </li> </ul> </li> </ul> <iframe width="560" height="315" src="https://www.youtube.com/embed/rQz8SWEXxrg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <h2 id="select-shelters-by-location"> <a href="#select-shelters-by-location" class="anchor-heading" aria-labelledby="select-shelters-by-location"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Select Shelters by Location </h2> <p>To answer <strong class="label label-red">4</strong>, we can use select by location again. A shelter is only viable if its more than 150 meters away from the inundation zone. Follow the video below to get setup.</p> <p><strong class="label label-blue">A</strong> Select Shelters by location</p> <ul> <li>Set <strong>Input Feature</strong> to <strong>Shelter</strong></li> <li>Set <strong>Relationship</strong> to “Within a distance”</li> <li>Set <strong>Selecting Feature</strong> to <strong>InundatonZone</strong></li> <li>Set <strong>Search Distance</strong> to <strong>150 meters</strong></li> <li>Check <strong>Invert Spatial Relationship</strong></li> </ul> <p><strong class="label label-blue">B</strong> Copy the Feature</p> <ul> <li>Name the output <strong>Shelters_Accepted</strong></li> </ul> <iframe width="560" height="315" src="https://www.youtube.com/embed/4feRTYwJj7g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
